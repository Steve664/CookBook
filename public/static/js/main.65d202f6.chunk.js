(this["webpackJsonpreact-rails-api-project-template-client"] = this["webpackJsonpreact-rails-api-project-template-client"] || []).push([[0], { 166: function (e, t, n) { }, 167: function (e, t, n) { }, 176: function (e, t, n) { }, 178: function (e, t, n) { "use strict"; n.r(t); var c = n(0), i = n.n(c), a = n(62), r = n.n(a), s = (n(166), n(167), n(15)), o = n(8), j = n(12), l = n.n(j), d = n(16), u = n(14), b = n(26), h = n(10), O = n(32), p = n.n(O), x = n(199), f = n(200), g = n(151), m = n(191), v = n(202), y = n(198), w = n(197), k = n(2); var C = function () { var e = Object(c.useState)({}), t = Object(h.a)(e, 2), n = t[0], i = t[1], a = Object(o.m)(); Object(c.useEffect)((function () { var e = p.a.get("token"); e && fetch("/users", { method: "GET", headers: { Authorization: "Bearer ".concat(e) } }).then((function (e) { return e.json() })).then((function (e) { return a(null !== e ? "/dashboard" : "/") })).catch((function (e) { return console.log(e) })) }), []); var r = function (e) { var t = e.target.name, n = e.target.value; i((function (e) { return Object(b.a)(Object(b.a)({}, e), {}, Object(u.a)({}, t, n)) })) }, j = function () { var e = Object(d.a)(l.a.mark((function e() { var t, c; return l.a.wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, fetch("/auth/login", { method: "POST", body: JSON.stringify(n), headers: { "Content-Type": "application/json" } }); case 2: return t = e.sent, e.next = 5, t.json(); case 5: c = e.sent, console.log(c), p.a.set("token", c.token), a("/dashboard"); case 9: case "end": return e.stop() } }), e) }))); return function () { return e.apply(this, arguments) } }(); return Object(k.jsx)(x.a, { textAlign: "center", style: { height: "100vh" }, verticalAlign: "middle", children: Object(k.jsxs)(x.a.Column, { style: { maxWidth: 450 }, children: [Object(k.jsxs)(f.a, { as: "h2", color: "black", textAlign: "center", children: [Object(k.jsx)(g.a, { src: "https://cdn.dribbble.com/users/2425253/screenshots/15276005/media/96f7e2bd3cc1089bcbf0eb26d74b4a08.jpg?compress=1&resize=1000x750&vertical=top" }), " Log-in to your account"] }), Object(k.jsx)(m.a, { size: "large", onSubmit: j, children: Object(k.jsxs)(v.a, { stacked: !0, children: [Object(k.jsx)(m.a.Input, { name: "email", value: n.email || "", onChange: r, fluid: !0, icon: "user", iconPosition: "left", placeholder: "E-mail address" }), Object(k.jsx)(m.a.Input, { fluid: !0, name: "password", onChange: r, icon: "lock", iconPosition: "left", value: n.password || "", placeholder: "Password", type: "password" }), Object(k.jsx)(y.a, { color: "yellow", fluid: !0, size: "large", children: "Login" })] }) }), Object(k.jsxs)(w.a, { children: ["New to us? ", Object(k.jsx)(s.b, { to: "/signup", children: "Sign Up" })] })] }) }) }, S = n(88); var T = function () { var e = Object(c.useState)({}), t = Object(h.a)(e, 2), n = t[0], i = t[1], a = Object(o.m)(), r = function (e) { var t = e.target.name, n = e.target.value; i((function (e) { return Object(b.a)(Object(b.a)({}, e), {}, Object(u.a)({}, t, n)) })) }, j = function () { var e = Object(d.a)(l.a.mark((function e() { var t, c; return l.a.wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, fetch("/users", { method: "POST", body: JSON.stringify(n), headers: { "Content-Type": "application/json" } }); case 2: return t = e.sent, e.next = 5, t.json(); case 5: c = e.sent, console.log(c), a("/"); case 8: case "end": return e.stop() } }), e) }))); return function () { return e.apply(this, arguments) } }(); return Object(k.jsx)(x.a, { textAlign: "center", style: { height: "100vh" }, verticalAlign: "middle", children: Object(k.jsxs)(x.a.Column, { style: { maxWidth: 450 }, children: [Object(k.jsxs)(f.a, { as: "h2", color: "teal", textAlign: "center", children: [Object(k.jsx)(g.a, { src: "https://cdn.dribbble.com/users/2425253/screenshots/15276005/media/96f7e2bd3cc1089bcbf0eb26d74b4a08.jpg?compress=1&resize=1000x750&vertical=top" }), " Sign up for an account"] }), Object(k.jsx)(m.a, { size: "large", onSubmit: j, children: Object(k.jsxs)(v.a, { stacked: !0, children: [Object(k.jsx)(m.a.Input, { fluid: !0, icon: "user", required: !0, name: "email", onChange: r, iconPosition: "left", type: "email", placeholder: "E-mail address" }), Object(k.jsx)(m.a.Input, { fluid: !0, icon: "user", name: "name", onChange: r, required: !0, iconPosition: "left", type: "text", placeholder: "name" }), Object(k.jsx)(m.a.Input, { fluid: !0, icon: "lock", required: !0, name: "password", onChange: r, iconPosition: "left", placeholder: "Password", type: "password" }), Object(k.jsx)(m.a.Input, { fluid: !0, icon: "lock", required: !0, name: "password_confirmation", onChange: r, iconPosition: "left", placeholder: "Confirm Password", type: "password" }), Object(k.jsx)(y.a, { color: "yellow", fluid: !0, size: "large", children: "Sign Up" })] }) }), Object(k.jsxs)(w.a, { attached: "bottom", warning: !0, children: [Object(k.jsx)(S.a, { name: "help" }), "Already signed up", Object(k.jsx)(s.b, { to: "/", children: " Login Here" }), " instead."] })] }) }) }, A = (n(196), n(194)), I = n(189); var R = function () { var e = Object(c.useState)(null), t = Object(h.a)(e, 2), n = t[0], i = t[1]; return Object(c.useEffect)((function () { fetch("/recipes").then((function (e) { return e.json() })).then((function (e) { i(e) })).catch((function (e) { return console.log(e) })) }), []), Object(k.jsxs)("div", { style: { padding: "50px" }, children: [Object(k.jsx)("h1", { children: "Recipes" }), n && n.map((function (e) { return Object(k.jsxs)(A.a.Group, { divided: !0, children: [Object(k.jsxs)(A.a, { children: [Object(k.jsx)(A.a.Image, { src: e.image, size: "medium" }), Object(k.jsxs)(A.a.Content, { children: [Object(k.jsx)(A.a.Header, { children: e.title }), Object(k.jsx)(A.a.Description, { children: e.description }), Object(k.jsx)(A.a.Extra, { children: Object(k.jsx)(s.b, { to: "/recipeview/".concat(e.id), children: Object(k.jsx)(y.a, { children: "View" }) }) })] })] }, e.id), Object(k.jsx)(I.a, {})] }) }))] }) }, E = n(195); var P = function () { var e = Object(c.useState)({}), t = Object(h.a)(e, 2), n = t[0], i = t[1], a = Object(c.useState)(null), r = Object(h.a)(a, 2), j = r[0], l = r[1], d = Object(c.useState)(null), u = Object(h.a)(d, 2), O = u[0], x = u[1], f = p.a.get("token"), g = Object(o.m)(), v = Object(c.useState)(!1), w = Object(h.a)(v, 2), C = w[0], S = w[1]; return Object(c.useEffect)((function () { f ? fetch("/users", { method: "GET", headers: { Authorization: "Bearer ".concat(f) } }).then((function (e) { return e.json() })).then((function (e) { return i(e) })).catch((function (e) { return console.log(e) })) : g("/login") }), []), Object(k.jsxs)("div", { style: { padding: "50px" }, children: [Object(k.jsxs)("h2", { children: ["Hello ", n.name] }), n.recipes && n.recipes.map((function (e) { return Object(k.jsxs)(A.a.Group, { divided: !0, children: [Object(k.jsxs)(A.a, { children: [Object(k.jsx)(A.a.Image, { src: e.image, size: "medium" }), Object(k.jsxs)(A.a.Content, { children: [Object(k.jsx)(A.a.Header, { children: e.title }), Object(k.jsx)(A.a.Description, { children: e.description }), Object(k.jsxs)(A.a.Extra, { children: [Object(k.jsx)(s.b, { to: "/recipeview/".concat(e.id), children: Object(k.jsx)(y.a, { children: "View" }) }), Object(k.jsx)(y.a, { primary: !0, onClick: function () { return t = e.id, void l(t); var t }, children: "Edit" }), Object(k.jsx)(y.a, { negative: !0, onClick: function () { return t = e.id, S(!0), void x(t); var t }, children: "Delete" })] })] })] }, e.id), Object(k.jsx)(I.a, {})] }) })), Object(k.jsxs)(E.a, { open: null !== j, children: [Object(k.jsx)(E.a.Header, { children: "Edit Recipe" }), Object(k.jsx)(E.a.Content, { children: Object(k.jsxs)(m.a, { onSubmit: function (e) { e.preventDefault(), function (e) { fetch("/recipes/".concat(j), { method: "PATCH", headers: { Authorization: "Bearer ".concat(f), "Content-Type": "application/json" }, body: JSON.stringify(e) }).then((function (e) { return e.json() })).then((function (e) { var t = n.recipes.map((function (t) { return t.id === e.id ? e : t })); i(Object(b.a)(Object(b.a)({}, n), {}, { recipes: t })), l(null) })).catch((function (e) { return console.log(e) })) }({ title: e.target.title.value, image: e.target.image.value, description: e.target.description.value }) }, children: [Object(k.jsxs)(m.a.Field, { children: [Object(k.jsx)("label", { children: "Title" }), Object(k.jsx)("input", { name: "title", defaultValue: null !== j ? n.recipes.find((function (e) { return e.id === j })).title : "" })] }), Object(k.jsxs)(m.a.Field, { children: [Object(k.jsx)("label", { children: "Image URL" }), Object(k.jsx)("input", { name: "image", defaultValue: null !== j ? n.recipes.find((function (e) { return e.id === j })).image : "" })] }), Object(k.jsxs)(m.a.Field, { children: [Object(k.jsx)("label", { children: "Description" }), Object(k.jsx)("textarea", { name: "description", defaultValue: null !== j ? n.recipes.find((function (e) { return e.id === j })).description : "" })] }), Object(k.jsx)(y.a, { type: "submit", children: "Save" })] }) })] }), Object(k.jsxs)(E.a, { open: C, children: [Object(k.jsx)(E.a.Header, { children: "Delete Recipe" }), Object(k.jsx)(E.a.Content, { children: Object(k.jsx)("p", { children: "Are you sure you want to delete this recipe?" }) }), Object(k.jsxs)(E.a.Actions, { children: [Object(k.jsx)(y.a, { onClick: function () { S(!1), x(null) }, children: "Cancel" }), Object(k.jsx)(y.a, { negative: !0, onClick: function () { fetch("/recipes/".concat(O), { method: "DELETE", headers: { Authorization: "Bearer ".concat(f), "Content-Type": "application/json" } }).then((function (e) { if (e.ok) { var t = n.recipes.filter((function (e) { return e.id !== O })); i(Object(b.a)(Object(b.a)({}, n), {}, { recipes: t })) } S(!1), x(null) })).catch((function (e) { return console.log(e) })) }, children: "Delete" })] })] })] }) }; var D = function () { var e = Object(c.useState)(""), t = Object(h.a)(e, 2), n = t[0], i = t[1], a = Object(c.useState)(""), r = Object(h.a)(a, 2), s = r[0], j = r[1], l = p.a.get("token"), d = Object(o.m)(), u = Object(c.useState)(""), b = Object(h.a)(u, 2), O = b[0], x = b[1], f = Object(c.useState)(""), g = Object(h.a)(f, 2), v = g[0], w = g[1]; return Object(c.useEffect)((function () { if (p.a.get("token")) return null; d("/login") }), []), Object(k.jsxs)("div", { style: { padding: "200px", paddingTop: "50px", paddingBottom: "50px" }, children: [Object(k.jsx)("h2", { children: "Add recipe" }), Object(k.jsxs)(m.a, { onSubmit: function (e) { e.preventDefault(), function (e) { fetch("/recipes", { method: "POST", headers: { "Content-Type": "application/json", Authorization: "Bearer ".concat(l) }, body: JSON.stringify(e) }).then((function (e) { e.ok ? console.log("Recipe was successfully created") : console.error("There was an error creating the recipe") })).catch((function (e) { console.error("There was a network error", e) })) }({ title: n, image: s, description: O, instructions: v }), i(""), j(""), x(""), w("") }, children: [Object(k.jsxs)(m.a.Field, { children: [Object(k.jsx)("label", { children: "Title" }), Object(k.jsx)("input", { type: "text", placeholder: "Title", value: n, onChange: function (e) { return i(e.target.value) } })] }), Object(k.jsxs)(m.a.Field, { children: [Object(k.jsx)("label", { children: "Image URL" }), Object(k.jsx)("input", { type: "text", placeholder: "Image URL", value: s, onChange: function (e) { return j(e.target.value) } })] }), Object(k.jsxs)(m.a.Field, { children: [Object(k.jsx)("label", { children: "Description" }), Object(k.jsx)("textarea", { placeholder: "Description", value: O, onChange: function (e) { return x(e.target.value) } })] }), Object(k.jsxs)(m.a.Field, { children: [Object(k.jsx)("label", { children: "Instructions" }), Object(k.jsx)("textarea", { placeholder: "Instructions", value: v, onChange: function (e) { return w(e.target.value) } })] }), Object(k.jsx)(y.a, { type: "submit", children: "Submit" })] })] }) }, z = n(28), F = (n(176), n(193)), L = n(203); var B = function () { var e = Object(c.useState)({}), t = Object(h.a)(e, 2), n = t[0], i = t[1], a = Object(c.useState)([]), r = Object(h.a)(a, 2), s = r[0], j = r[1], u = Object(c.useState)([]), O = Object(h.a)(u, 2), x = O[0], g = O[1], v = p.a.get("token"), w = Object(o.o)().id, C = Object(c.useState)({ rating: null, content: "" }), S = Object(h.a)(C, 2), T = S[0], A = S[1], R = function () { var e = Object(d.a)(l.a.mark((function e(t) { var n, c; return l.a.wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (t.preventDefault(), !v) { e.next = 16; break } return e.next = 4, fetch("/recipes/".concat(w, "/reviews"), { method: "POST", headers: { "Content-Type": "application/json", Authorization: "Bearer ".concat(v) }, body: JSON.stringify(T) }); case 4: if (!(n = e.sent).ok) { e.next = 13; break } return e.next = 8, n.json(); case 8: c = e.sent, j([].concat(Object(z.a)(s), [c])), A({ content: "", rating: 0 }), e.next = 14; break; case 13: console.error("Failed to create review:", n.statusText); case 14: e.next = 17; break; case 16: alert("log in to comment"); case 17: case "end": return e.stop() } }), e) }))); return function (t) { return e.apply(this, arguments) } }(); return Object(c.useEffect)((function () { fetch("/recipes/".concat(w)).then((function (e) { return e.json() })).then((function (e) { i(e) })).catch((function (e) { return console.log(e) })), fetch("/recipes/".concat(w, "/review")).then((function (e) { return e.json() })).then((function (e) { return j(e.reviews), g(e.authors) })).catch((function (e) { return console.log(e) })) }), [w]), Object(k.jsxs)("div", { id: "main", children: [Object(k.jsxs)("div", { id: "recipe", children: [Object(k.jsx)("img", { id: "Recipeimg", src: n.image, alt: n.title }), Object(k.jsx)("h2", { className: "center", children: Object(k.jsx)("span", { children: n.title }) }), Object(k.jsx)("h3", { children: "Description:" }), Object(k.jsx)("p", { children: n.description }), Object(k.jsx)("h3", { children: "instructions:" }), Object(k.jsx)("p", { children: n.instructions })] }), Object(k.jsxs)("div", { id: "reviews", children: [Object(k.jsx)(I.a, {}), Object(k.jsxs)(F.a.Group, { children: [Object(k.jsx)(f.a, { as: "h3", dividing: !0, children: "Reviews" }), s && s.map((function (e, t) { return Object(k.jsx)(F.a, { children: Object(k.jsxs)(F.a.Content, { children: [Object(k.jsx)(F.a.Author, { as: "a", children: x[t] || "You" }), Object(k.jsx)(F.a.Metadata, { children: Object(k.jsx)("div", { children: e.created_at }) }), Object(k.jsx)(F.a.Text, { children: e.content }), Object(k.jsxs)(F.a.Metadata, { children: [Object(k.jsx)("span", { children: "Rating:" }), Object(k.jsx)(L.a, { defaultRating: e.rating, maxRating: 5, disabled: !0 })] })] }) }, t) })), Object(k.jsx)(I.a, {}), Object(k.jsxs)(m.a, { onSubmit: R, children: [Object(k.jsx)("span", { children: "Rating:" }), Object(k.jsx)(L.a, { maxRating: 5, onRate: function (e, t) { var n = t.rating; A(Object(b.a)(Object(b.a)({}, T), {}, { rating: n })), console.log(n) } }), Object(k.jsx)(m.a.TextArea, { name: "content", placeholder: "Write a review...", onChange: function (e) { A(Object(b.a)(Object(b.a)({}, T), {}, { content: e.target.value })) }, value: T.content || "" }), Object(k.jsx)(y.a, { content: "Add Review", labelPosition: "left", icon: "edit", primary: !0 })] })] })] })] }) }, H = (n(177), n(192)); var J = function () { var e = Object(c.useState)(!1), t = Object(h.a)(e, 2), n = t[0], i = t[1], a = Object(c.useState)(""), r = Object(h.a)(a, 2), j = r[0], l = r[1], d = Object(o.m)(), u = p.a.get("token"); Object(c.useEffect)((function () { u && i(!0) }), [u]); var b = function (e, t) { var n = t.name; return l(n) }; return Object(k.jsx)(v.a, { inverted: !0, children: Object(k.jsxs)(H.a, { inverted: !0, pointing: !0, secondary: !0, children: [Object(k.jsx)(H.a.Item, { name: "home", active: "home" === j, onClick: b, as: s.b, to: "/", children: "Home" }), Object(k.jsx)(H.a.Item, { name: "recipes", active: "recipes" === j, onClick: b, as: s.b, to: "/recipes", children: "Recipes" }), n ? Object(k.jsxs)(H.a.Menu, { position: "right", children: [Object(k.jsx)(H.a.Item, { name: "dashboard", active: "dashboard" === j, onClick: b, as: s.b, to: "/dashboard", children: "Your Dashboard" }), Object(k.jsx)(H.a.Item, { name: "addrecipe", active: "addrecipe" === j, onClick: b, as: s.b, to: "/recipeform", children: "Add Recipe" }), Object(k.jsx)(H.a.Item, { onClick: function () { p.a.remove("token"), i(!1), d("/") }, children: "Log Out" })] }) : Object(k.jsxs)(H.a.Menu, { position: "right", children: [Object(k.jsx)(H.a.Item, { name: "login", active: "login" === j, onClick: b, as: s.b, to: "/login", children: "Login" }), Object(k.jsx)(H.a.Item, { name: "signup", active: "signup" === j, onClick: b, as: s.b, to: "/signup", children: "Sign Up" })] })] }) }) }, N = n(190); var G = function () { return Object(k.jsxs)(N.a, { children: [Object(k.jsx)(f.a, { as: "h1", textAlign: "center", children: "Welcome to the Recipe App!" }), Object(k.jsx)("p", { children: "This app allows you to browse, create, and share recipes with others. Whether you're looking for inspiration or want to showcase your cooking skills, our community of foodies is here to help." }), Object(k.jsx)(y.a, { color: "teal", as: s.b, to: "/recipes", children: "Get started" })] }) }; var U = function () { return Object(k.jsxs)(s.a, { children: [Object(k.jsx)(J, {}), Object(k.jsxs)(o.c, { children: [Object(k.jsx)(o.a, { exact: !0, path: "/", element: Object(k.jsx)(G, {}) }), Object(k.jsx)(o.a, { path: "/login", element: Object(k.jsx)(C, {}) }), Object(k.jsx)(o.a, { path: "/signup", element: Object(k.jsx)(T, {}) }), Object(k.jsx)(o.a, { path: "/dashboard", element: Object(k.jsx)(P, {}) }), Object(k.jsx)(o.a, { path: "/recipeform", element: Object(k.jsx)(D, {}) }), Object(k.jsx)(o.a, { path: "/recipes", element: Object(k.jsx)(R, {}) }), Object(k.jsx)(o.a, { path: "/recipeview/:id", element: Object(k.jsx)(B, {}) })] })] }) }, M = function (e) { e && e instanceof Function && n.e(3).then(n.bind(null, 205)).then((function (t) { var n = t.getCLS, c = t.getFID, i = t.getFCP, a = t.getLCP, r = t.getTTFB; n(e), c(e), i(e), a(e), r(e) })) }; r.a.render(Object(k.jsx)(i.a.StrictMode, { children: Object(k.jsx)(U, {}) }), document.getElementById("root")), M() } }, [[178, 1, 2]]]);
//# sourceMappingURL=main.65d202f6.chunk.js.map